{% extends "base.html" %}
{load static}

{% block title %} Данные {% endblock %}

{% block styles %}
  <style>
   #main_table{
        text-align: center;
        font-size: 12px;
   }
   #table_div{
        margin-top: 80px;
        margin-bottom: 30px;
        margin-left: 30px;
        margin-right: 30px;
   }
   </style>

{% endblock %}

{% block scripts %}
	<script>
		$(document).ready(function() {
			$('#main_table').DataTable({
                "scrollX": true,
                "order": [[ 0, "desc" ]]
            });
		} );
	</script>
{% endblock %}

{% block content %}
    <div id="table_div">
        <table id="main_table"  class=" ui celled order-column table compact hover" style="width:100%">
          <thead class="thead-dark" style="font-size: 11px; text-align: center">
            <tr>
              <th style="vertical-align: middle" rowspan="3" scope="col">Дата и время</th>
              <th colspan="5" scope="col">Открытые позиции</th>
              <th colspan="5" scope="col">Количество лиц</th>
              <th style="vertical-align: middle" rowspan="3" scope="col">Закрытие</th>
              <th style="vertical-align: middle" rowspan="3" scope="col">Объем, контр.</th>
              <th style="vertical-align: middle" rowspan="3" scope="col">Открытые позиции, контр.</th>
              <th style="vertical-align: middle" rowspan="3" scope="col">Краткий код</th>
            </tr>
            <tr>
              <th colspan="2" scope="col">Юридические лица</th>
              <th colspan="2" scope="col">Физические лица</th>
              <th style="vertical-align: middle" rowspan="2" scope="col">Итого</th>
              <th colspan="2" scope="col">Юридические лица</th>
              <th colspan="2" scope="col">Физические лица</th>
              <th style="vertical-align: middle" rowspan="2" scope="col">Итого</th>
            </tr>
           <tr>
              <th scope="col">Длинные</th>
              <th scope="col">Короткие</th>
              <th scope="col">Длинные</th>
              <th scope="col">Короткие</th>
              <th scope="col">Длинные</th>
              <th scope="col">Короткие</th>
              <th scope="col">Длинные</th>
              <th scope="col">Короткие</th>
            </tr>
          </thead>
          <tbody>
                {% for line in data %}
                    <tr>
                        <td scope="row">{{line.datetime}}</td>
                        <td>{{line.open_pos_yur_long}}</td>
                        <td>{{line.open_pos_yur_short}}</td>
                        <td>{{line.open_pos_fiz_long}}</td>
                        <td>{{line.open_pos_fiz_short}}</td>
                        <td>{{line.open_pos_all}}</td>
                        <td>{{line.number_persons_yur_long}}</td>
                        <td>{{line.number_persons_yur_short}}</td>
                        <td>{{line.number_persons_fiz_long}}</td>
                        <td>{{line.number_persons_fiz_short}}</td>
                        <td>{{line.number_persons_all}}</td>
                        <td>{{line.close}}</td>
                        <td>{{line.capacity_control}}</td>
                        <td>{{line.open_pos_control}}</td>
                        <td>{{line.short_code}}</td>
                    </tr>
                {% endfor %}
          </tbody>
        </table>
    </div>
{% endblock %}